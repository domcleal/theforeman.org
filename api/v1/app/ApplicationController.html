<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class ApplicationController - Rails Application Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/controllers/application_controller.rb
  </ul>
</nav>


  </div>

  <div id="class-metadata">

    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>

  <p class="link">ActionController::Base

</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">


    <li><a class="include" href="Foreman/ThreadSession/Cleaner.html">Foreman::ThreadSession::Cleaner</a>


  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">

    <li><a href="#method-i-ajax-3F">#ajax?</a>

    <li><a href="#method-i-ajax_request">#ajax_request</a>

    <li><a href="#method-i-api_request-3F">#api_request?</a>

    <li><a href="#method-i-auth_smart_proxy">#auth_smart_proxy</a>

    <li><a href="#method-i-authorize">#authorize</a>

    <li><a href="#method-i-current_user">#current_user</a>

    <li><a href="#method-i-deny_access">#deny_access</a>

    <li><a href="#method-i-error">#error</a>

    <li><a href="#method-i-expire_session">#expire_session</a>

    <li><a href="#method-i-find_by_name">#find_by_name</a>

    <li><a href="#method-i-invalid_request">#invalid_request</a>

    <li><a href="#method-i-not_found">#not_found</a>

    <li><a href="#method-i-notice">#notice</a>

    <li><a href="#method-i-remote_user_provided-3F">#remote_user_provided?</a>

    <li><a href="#method-i-require_login">#require_login</a>

    <li><a href="#method-i-require_mail">#require_mail</a>

    <li><a href="#method-i-require_puppetmaster_or_login">#require_puppetmaster_or_login</a>

    <li><a href="#method-i-require_ssl">#require_ssl</a>

    <li><a href="#method-i-session_expiry">#session_expiry</a>

    <li><a href="#method-i-set_admin_user">#set_admin_user</a>

    <li><a href="#method-i-setup_search_options">#setup_search_options</a>

    <li><a href="#method-i-update_activity_time">#update_activity_time</a>

    <li><a href="#method-i-warning">#warning</a>

    <li><a href="#method-i-welcome">#welcome</a>

  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>

    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>

  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">

    <li><a href="./Api.html">Api</a>

    <li><a href="./Api/ApiResponder.html">Api::ApiResponder</a>

    <li><a href="./Api/Authorization.html">Api::Authorization</a>

    <li><a href="./Api/BaseController.html">Api::BaseController</a>

    <li><a href="./Api/V1.html">Api::V1</a>

    <li><a href="./Api/V1/ArchitecturesController.html">Api::V1::ArchitecturesController</a>

    <li><a href="./Api/V1/AuditsController.html">Api::V1::AuditsController</a>

    <li><a href="./Api/V1/AuthSourceLdapsController.html">Api::V1::AuthSourceLdapsController</a>

    <li><a href="./Api/V1/BaseController.html">Api::V1::BaseController</a>

    <li><a href="./Api/V1/BookmarksController.html">Api::V1::BookmarksController</a>

    <li><a href="./Api/V1/CommonParametersController.html">Api::V1::CommonParametersController</a>

    <li><a href="./Api/V1/ComputeResourcesController.html">Api::V1::ComputeResourcesController</a>

    <li><a href="./Api/V1/ConfigTemplatesController.html">Api::V1::ConfigTemplatesController</a>

    <li><a href="./Api/V1/DashboardController.html">Api::V1::DashboardController</a>

    <li><a href="./Api/V1/DomainsController.html">Api::V1::DomainsController</a>

    <li><a href="./Api/V1/EnvironmentsController.html">Api::V1::EnvironmentsController</a>

    <li><a href="./Api/V1/FactValuesController.html">Api::V1::FactValuesController</a>

    <li><a href="./Api/V1/HomeController.html">Api::V1::HomeController</a>

    <li><a href="./Api/V1/HostgroupsController.html">Api::V1::HostgroupsController</a>

    <li><a href="./Api/V1/HostsController.html">Api::V1::HostsController</a>

    <li><a href="./Api/V1/ImagesController.html">Api::V1::ImagesController</a>

    <li><a href="./Api/V1/LookupKeysController.html">Api::V1::LookupKeysController</a>

    <li><a href="./Api/V1/MediaController.html">Api::V1::MediaController</a>

    <li><a href="./Api/V1/ModelsController.html">Api::V1::ModelsController</a>

    <li><a href="./Api/V1/OperatingsystemsController.html">Api::V1::OperatingsystemsController</a>

    <li><a href="./Api/V1/PtablesController.html">Api::V1::PtablesController</a>

    <li><a href="./Api/V1/PuppetclassesController.html">Api::V1::PuppetclassesController</a>

    <li><a href="./Api/V1/ReportsController.html">Api::V1::ReportsController</a>

    <li><a href="./Api/V1/RolesController.html">Api::V1::RolesController</a>

    <li><a href="./Api/V1/SettingsController.html">Api::V1::SettingsController</a>

    <li><a href="./Api/V1/SmartProxiesController.html">Api::V1::SmartProxiesController</a>

    <li><a href="./Api/V1/SubnetsController.html">Api::V1::SubnetsController</a>

    <li><a href="./Api/V1/TemplateKindsController.html">Api::V1::TemplateKindsController</a>

    <li><a href="./Api/V1/UsergroupsController.html">Api::V1::UsergroupsController</a>

    <li><a href="./Api/V1/UsersController.html">Api::V1::UsersController</a>

    <li><a href="./Api/V2.html">Api::V2</a>

    <li><a href="./Api/V2/BaseController.html">Api::V2::BaseController</a>

    <li><a href="./Api/V2/ConfigTemplatesController.html">Api::V2::ConfigTemplatesController</a>

    <li><a href="./Api/V2/TemplateCombinationsController.html">Api::V2::TemplateCombinationsController</a>

    <li><a href="./Api/Version1.html">Api::Version1</a>

    <li><a href="./Api/Version2.html">Api::Version2</a>

    <li><a href="./Foreman.html">Foreman</a>

    <li><a href="./Foreman/AccessControl.html">Foreman::AccessControl</a>

    <li><a href="./Foreman/AccessControl/Mapper.html">Foreman::AccessControl::Mapper</a>

    <li><a href="./Foreman/AccessControl/Permission.html">Foreman::AccessControl::Permission</a>

    <li><a href="./Foreman/Controller.html">Foreman::Controller</a>

    <li><a href="./Foreman/Controller/AutoCompleteSearch.html">Foreman::Controller::AutoCompleteSearch</a>

    <li><a href="./Foreman/Controller/Environments.html">Foreman::Controller::Environments</a>

    <li><a href="./Foreman/Controller/HostDetails.html">Foreman::Controller::HostDetails</a>

    <li><a href="./Foreman/DefaultData.html">Foreman::DefaultData</a>

    <li><a href="./Foreman/DefaultData/DataAlreadyLoaded.html">Foreman::DefaultData::DataAlreadyLoaded</a>

    <li><a href="./Foreman/DefaultData/Loader.html">Foreman::DefaultData::Loader</a>

    <li><a href="./Foreman/DefaultSettings.html">Foreman::DefaultSettings</a>

    <li><a href="./Foreman/DefaultSettings/Loader.html">Foreman::DefaultSettings::Loader</a>

    <li><a href="./Foreman/ImporterPuppetclass.html">Foreman::ImporterPuppetclass</a>

    <li><a href="./Foreman/Model.html">Foreman::Model</a>

    <li><a href="./Foreman/Model/EC2.html">Foreman::Model::EC2</a>

    <li><a href="./Foreman/Model/Libvirt.html">Foreman::Model::Libvirt</a>

    <li><a href="./Foreman/Model/Openstack.html">Foreman::Model::Openstack</a>

    <li><a href="./Foreman/Model/Ovirt.html">Foreman::Model::Ovirt</a>

    <li><a href="./Foreman/Model/Rackspace.html">Foreman::Model::Rackspace</a>

    <li><a href="./Foreman/Model/Vmware.html">Foreman::Model::Vmware</a>

    <li><a href="./Foreman/Provision.html">Foreman::Provision</a>

    <li><a href="./Foreman/Provision/SSH.html">Foreman::Provision::SSH</a>

    <li><a href="./Foreman/Renderer.html">Foreman::Renderer</a>

    <li><a href="./Foreman/STI.html">Foreman::STI</a>

    <li><a href="./Foreman/ThreadSession.html">Foreman::ThreadSession</a>

    <li><a href="./Foreman/ThreadSession/Cleaner.html">Foreman::ThreadSession::Cleaner</a>

    <li><a href="./Foreman/ThreadSession/LocationModel.html">Foreman::ThreadSession::LocationModel</a>

    <li><a href="./Foreman/ThreadSession/OrganizationModel.html">Foreman::ThreadSession::OrganizationModel</a>

    <li><a href="./Foreman/ThreadSession/UserModel.html">Foreman::ThreadSession::UserModel</a>

    <li><a href="./Foreman/Util.html">Foreman::Util</a>

    <li><a href="./FogExtensions.html">FogExtensions</a>

    <li><a href="./FogExtensions/AWS.html">FogExtensions::AWS</a>

    <li><a href="./FogExtensions/AWS/Flavor.html">FogExtensions::AWS::Flavor</a>

    <li><a href="./FogExtensions/AWS/Server.html">FogExtensions::AWS::Server</a>

    <li><a href="./FogExtensions/Libvirt.html">FogExtensions::Libvirt</a>

    <li><a href="./FogExtensions/Libvirt/Server.html">FogExtensions::Libvirt::Server</a>

    <li><a href="./FogExtensions/Model.html">FogExtensions::Model</a>

    <li><a href="./FogExtensions/Model/InstanceMethods.html">FogExtensions::Model::InstanceMethods</a>

    <li><a href="./FogExtensions/Openstack.html">FogExtensions::Openstack</a>

    <li><a href="./FogExtensions/Openstack/Flavor.html">FogExtensions::Openstack::Flavor</a>

    <li><a href="./FogExtensions/Openstack/Server.html">FogExtensions::Openstack::Server</a>

    <li><a href="./FogExtensions/Ovirt.html">FogExtensions::Ovirt</a>

    <li><a href="./FogExtensions/Ovirt/Server.html">FogExtensions::Ovirt::Server</a>

    <li><a href="./FogExtensions/Ovirt/Volume.html">FogExtensions::Ovirt::Volume</a>

    <li><a href="./FogExtensions/Vsphere.html">FogExtensions::Vsphere</a>

    <li><a href="./FogExtensions/Vsphere/Folder.html">FogExtensions::Vsphere::Folder</a>

    <li><a href="./FogExtensions/Vsphere/MiniServer.html">FogExtensions::Vsphere::MiniServer</a>

    <li><a href="./FogExtensions/Vsphere/MiniServers.html">FogExtensions::Vsphere::MiniServers</a>

    <li><a href="./FogExtensions/Vsphere/Server.html">FogExtensions::Vsphere::Server</a>

    <li><a href="./Orchestration.html">Orchestration</a>

    <li><a href="./Orchestration/Compute.html">Orchestration::Compute</a>

    <li><a href="./Orchestration/Compute/InstanceMethods.html">Orchestration::Compute::InstanceMethods</a>

    <li><a href="./Orchestration/DHCP.html">Orchestration::DHCP</a>

    <li><a href="./Orchestration/DHCP/InstanceMethods.html">Orchestration::DHCP::InstanceMethods</a>

    <li><a href="./Orchestration/DNS.html">Orchestration::DNS</a>

    <li><a href="./Orchestration/DNS/InstanceMethods.html">Orchestration::DNS::InstanceMethods</a>

    <li><a href="./Orchestration/InstanceMethods.html">Orchestration::InstanceMethods</a>

    <li><a href="./Orchestration/Puppetca.html">Orchestration::Puppetca</a>

    <li><a href="./Orchestration/Puppetca/InstanceMethods.html">Orchestration::Puppetca::InstanceMethods</a>

    <li><a href="./Orchestration/Queue.html">Orchestration::Queue</a>

    <li><a href="./Orchestration/SSHProvision.html">Orchestration::SSHProvision</a>

    <li><a href="./Orchestration/SSHProvision/InstanceMethods.html">Orchestration::SSHProvision::InstanceMethods</a>

    <li><a href="./Orchestration/TFTP.html">Orchestration::TFTP</a>

    <li><a href="./Orchestration/TFTP/InstanceMethods.html">Orchestration::TFTP::InstanceMethods</a>

    <li><a href="./Net.html">Net</a>

    <li><a href="./Net/Conflict.html">Net::Conflict</a>

    <li><a href="./Net/DHCP.html">Net::DHCP</a>

    <li><a href="./Net/DHCP/Record.html">Net::DHCP::Record</a>

    <li><a href="./Net/DHCP/SparcRecord.html">Net::DHCP::SparcRecord</a>

    <li><a href="./Net/DNS.html">Net::DNS</a>

    <li><a href="./Net/DNS/ARecord.html">Net::DNS::ARecord</a>

    <li><a href="./Net/DNS/PTRRecord.html">Net::DNS::PTRRecord</a>

    <li><a href="./Net/DNS/Record.html">Net::DNS::Record</a>

    <li><a href="./Net/Error.html">Net::Error</a>

    <li><a href="./Net/LeaseConflict.html">Net::LeaseConflict</a>

    <li><a href="./Net/Record.html">Net::Record</a>

    <li><a href="./Net/Validations.html">Net::Validations</a>

    <li><a href="./Net/Validations/Error.html">Net::Validations::Error</a>

    <li><a href="./ProxyAPI.html">ProxyAPI</a>

    <li><a href="./ProxyAPI/BMC.html">ProxyAPI::BMC</a>

    <li><a href="./ProxyAPI/DHCP.html">ProxyAPI::DHCP</a>

    <li><a href="./ProxyAPI/DNS.html">ProxyAPI::DNS</a>

    <li><a href="./ProxyAPI/Features.html">ProxyAPI::Features</a>

    <li><a href="./ProxyAPI/Puppet.html">ProxyAPI::Puppet</a>

    <li><a href="./ProxyAPI/Puppetca.html">ProxyAPI::Puppetca</a>

    <li><a href="./ProxyAPI/Resource.html">ProxyAPI::Resource</a>

    <li><a href="./ProxyAPI/TFTP.html">ProxyAPI::TFTP</a>

    <li><a href="./Nic.html">Nic</a>

    <li><a href="./Nic/BMC.html">Nic::BMC</a>

    <li><a href="./Nic/Base.html">Nic::Base</a>

    <li><a href="./Nic/Bootable.html">Nic::Bootable</a>

    <li><a href="./Nic/Interface.html">Nic::Interface</a>

    <li><a href="./Nic/Managed.html">Nic::Managed</a>

    <li><a href="./SmartProxies.html">SmartProxies</a>

    <li><a href="./SmartProxies/AutosignController.html">SmartProxies::AutosignController</a>

    <li><a href="./SmartProxies/AutosignHelper.html">SmartProxies::AutosignHelper</a>

    <li><a href="./SmartProxies/PuppetCA.html">SmartProxies::PuppetCA</a>

    <li><a href="./SmartProxies/PuppetcaController.html">SmartProxies::PuppetcaController</a>

    <li><a href="./SmartProxies/PuppetcaHelper.html">SmartProxies::PuppetcaHelper</a>

    <li><a href="./ActiveRecord.html">ActiveRecord</a>

    <li><a href="./ActiveRecord/Base.html">ActiveRecord::Base</a>

    <li><a href="./ActiveRecord/Base/EnsureNotUsedBy.html">ActiveRecord::Base::EnsureNotUsedBy</a>

    <li><a href="./ActiveRecord/CollectionProxy.html">ActiveRecord::CollectionProxy</a>

    <li><a href="./ActiveRecord/Relation.html">ActiveRecord::Relation</a>

    <li><a href="./ActiveModel.html">ActiveModel</a>

    <li><a href="./ActiveModel/Errors.html">ActiveModel::Errors</a>

    <li><a href="./AuditExtentions.html">AuditExtentions</a>

    <li><a href="./AuditExtentions/InstanceMethods.html">AuditExtentions::InstanceMethods</a>

    <li><a href="./ConfigTemplate.html">ConfigTemplate</a>

    <li><a href="./ConfigTemplate/Jail.html">ConfigTemplate::Jail</a>

    <li><a href="./Domain.html">Domain</a>

    <li><a href="./Domain/Jail.html">Domain::Jail</a>

    <li><a href="./Facts.html">Facts</a>

    <li><a href="./Facts/Importer.html">Facts::Importer</a>

    <li><a href="./Host.html">Host</a>

    <li><a href="./Host/Jail.html">Host::Jail</a>

    <li><a href="./HostCommon.html">HostCommon</a>

    <li><a href="./HostCommon/InstanceMethods.html">HostCommon::InstanceMethods</a>

    <li><a href="./Hostext.html">Hostext</a>

    <li><a href="./Hostext/Search.html">Hostext::Search</a>

    <li><a href="./Hostgroup.html">Hostgroup</a>

    <li><a href="./Hostgroup/Jail.html">Hostgroup::Jail</a>

    <li><a href="./Operatingsystem.html">Operatingsystem</a>

    <li><a href="./Operatingsystem/Jail.html">Operatingsystem::Jail</a>

    <li><a href="./Subnet.html">Subnet</a>

    <li><a href="./Subnet/Jail.html">Subnet::Jail</a>

    <li><a href="./Taxonomix.html">Taxonomix</a>

    <li><a href="./Taxonomix/InstanceMethods.html">Taxonomix::InstanceMethods</a>

    <li><a href="./ApiConstraints.html">ApiConstraints</a>

    <li><a href="./ApplicationController.html">ApplicationController</a>

    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>

    <li><a href="./Architecture.html">Architecture</a>

    <li><a href="./ArchitectureHelper.html">ArchitectureHelper</a>

    <li><a href="./ArchitecturesController.html">ArchitecturesController</a>

    <li><a href="./ArchitecturesHelper.html">ArchitecturesHelper</a>

    <li><a href="./Archlinux.html">Archlinux</a>

    <li><a href="./AuditsController.html">AuditsController</a>

    <li><a href="./AuditsHelper.html">AuditsHelper</a>

    <li><a href="./AuthSource.html">AuthSource</a>

    <li><a href="./AuthSourceInternal.html">AuthSourceInternal</a>

    <li><a href="./AuthSourceLdap.html">AuthSourceLdap</a>

    <li><a href="./AuthSourceLdapsController.html">AuthSourceLdapsController</a>

    <li><a href="./AuthSourceLdapsHelper.html">AuthSourceLdapsHelper</a>

    <li><a href="./AuthSourcesHelper.html">AuthSourcesHelper</a>

    <li><a href="./Authorization.html">Authorization</a>

    <li><a href="./Bookmark.html">Bookmark</a>

    <li><a href="./BookmarksController.html">BookmarksController</a>

    <li><a href="./BookmarksHelper.html">BookmarksHelper</a>

    <li><a href="./Classification.html">Classification</a>

    <li><a href="./CommonParameter.html">CommonParameter</a>

    <li><a href="./CommonParametersController.html">CommonParametersController</a>

    <li><a href="./CommonParametersHelper.html">CommonParametersHelper</a>

    <li><a href="./ComputeResource.html">ComputeResource</a>

    <li><a href="./ComputeResourcesController.html">ComputeResourcesController</a>

    <li><a href="./ComputeResourcesHelper.html">ComputeResourcesHelper</a>

    <li><a href="./ComputeResourcesVmsController.html">ComputeResourcesVmsController</a>

    <li><a href="./ComputeResourcesVmsHelper.html">ComputeResourcesVmsHelper</a>

    <li><a href="./ConfigTemplatesController.html">ConfigTemplatesController</a>

    <li><a href="./ConfigTemplatesHelper.html">ConfigTemplatesHelper</a>

    <li><a href="./Dashboard.html">Dashboard</a>

    <li><a href="./DashboardController.html">DashboardController</a>

    <li><a href="./DashboardHelper.html">DashboardHelper</a>

    <li><a href="./Debian.html">Debian</a>

    <li><a href="./DomainParameter.html">DomainParameter</a>

    <li><a href="./DomainsController.html">DomainsController</a>

    <li><a href="./DomainsHelper.html">DomainsHelper</a>

    <li><a href="./Environment.html">Environment</a>

    <li><a href="./EnvironmentClass.html">EnvironmentClass</a>

    <li><a href="./EnvironmentsController.html">EnvironmentsController</a>

    <li><a href="./EnvironmentsHelper.html">EnvironmentsHelper</a>

    <li><a href="./ExemptedFromLogging.html">ExemptedFromLogging</a>

    <li><a href="./FactTrend.html">FactTrend</a>

    <li><a href="./FactValue.html">FactValue</a>

    <li><a href="./FactValuesController.html">FactValuesController</a>

    <li><a href="./FactValuesHelper.html">FactValuesHelper</a>

    <li><a href="./FactsController.html">FactsController</a>

    <li><a href="./Feature.html">Feature</a>

    <li><a href="./ForemanTrend.html">ForemanTrend</a>

    <li><a href="./GroupParameter.html">GroupParameter</a>

    <li><a href="./HomeController.html">HomeController</a>

    <li><a href="./HomeHelper.html">HomeHelper</a>

    <li><a href="./HostClass.html">HostClass</a>

    <li><a href="./HostMailer.html">HostMailer</a>

    <li><a href="./HostObserver.html">HostObserver</a>

    <li><a href="./HostParameter.html">HostParameter</a>

    <li><a href="./HostTemplateHelpers.html">HostTemplateHelpers</a>

    <li><a href="./HostgroupClass.html">HostgroupClass</a>

    <li><a href="./HostgroupsController.html">HostgroupsController</a>

    <li><a href="./HostgroupsHelper.html">HostgroupsHelper</a>

    <li><a href="./HostsAndHostgroupsHelper.html">HostsAndHostgroupsHelper</a>

    <li><a href="./HostsController.html">HostsController</a>

    <li><a href="./HostsHelper.html">HostsHelper</a>

    <li><a href="./Image.html">Image</a>

    <li><a href="./ImagesController.html">ImagesController</a>

    <li><a href="./ImagesHelper.html">ImagesHelper</a>

    <li><a href="./KeyPair.html">KeyPair</a>

    <li><a href="./LayoutHelper.html">LayoutHelper</a>

    <li><a href="./Location.html">Location</a>

    <li><a href="./LocationsController.html">LocationsController</a>

    <li><a href="./Log.html">Log</a>

    <li><a href="./LookupKey.html">LookupKey</a>

    <li><a href="./LookupKeysController.html">LookupKeysController</a>

    <li><a href="./LookupKeysHelper.html">LookupKeysHelper</a>

    <li><a href="./LookupValue.html">LookupValue</a>

    <li><a href="./LookupValuesController.html">LookupValuesController</a>

    <li><a href="./MediaController.html">MediaController</a>

    <li><a href="./MediaHelper.html">MediaHelper</a>

    <li><a href="./Medium.html">Medium</a>

    <li><a href="./MediumHelper.html">MediumHelper</a>

    <li><a href="./Message.html">Message</a>

    <li><a href="./Model.html">Model</a>

    <li><a href="./ModelHelper.html">ModelHelper</a>

    <li><a href="./ModelsController.html">ModelsController</a>

    <li><a href="./ModelsHelper.html">ModelsHelper</a>

    <li><a href="./NilClass.html">NilClass</a>

    <li><a href="./Notice.html">Notice</a>

    <li><a href="./NoticesController.html">NoticesController</a>

    <li><a href="./NoticesHelper.html">NoticesHelper</a>

    <li><a href="./Object.html">Object</a>

    <li><a href="./OperatingsystemsController.html">OperatingsystemsController</a>

    <li><a href="./OperatingsystemsHelper.html">OperatingsystemsHelper</a>

    <li><a href="./Organization.html">Organization</a>

    <li><a href="./OrganizationHelper.html">OrganizationHelper</a>

    <li><a href="./OrganizationsController.html">OrganizationsController</a>

    <li><a href="./OsDefaultTemplate.html">OsDefaultTemplate</a>

    <li><a href="./OsParameter.html">OsParameter</a>

    <li><a href="./Parameter.html">Parameter</a>

    <li><a href="./PortInUse.html">PortInUse</a>

    <li><a href="./Ptable.html">Ptable</a>

    <li><a href="./PtablesController.html">PtablesController</a>

    <li><a href="./PtablesHelper.html">PtablesHelper</a>

    <li><a href="./PuppetClassImporter.html">PuppetClassImporter</a>

    <li><a href="./PuppetSetting.html">PuppetSetting</a>

    <li><a href="./Puppetclass.html">Puppetclass</a>

    <li><a href="./PuppetclassesAndEnvironmentsHelper.html">PuppetclassesAndEnvironmentsHelper</a>

    <li><a href="./PuppetclassesController.html">PuppetclassesController</a>

    <li><a href="./PuppetclassesHelper.html">PuppetclassesHelper</a>

    <li><a href="./Redhat.html">Redhat</a>

    <li><a href="./Report.html">Report</a>

    <li><a href="./ReportCommon.html">ReportCommon</a>

    <li><a href="./ReportsController.html">ReportsController</a>

    <li><a href="./ReportsHelper.html">ReportsHelper</a>

    <li><a href="./Role.html">Role</a>

    <li><a href="./RolesController.html">RolesController</a>

    <li><a href="./Setting.html">Setting</a>

    <li><a href="./SettingsController.html">SettingsController</a>

    <li><a href="./SettingsHelper.html">SettingsHelper</a>

    <li><a href="./SmartProxiesController.html">SmartProxiesController</a>

    <li><a href="./SmartProxiesHelper.html">SmartProxiesHelper</a>

    <li><a href="./SmartProxy.html">SmartProxy</a>

    <li><a href="./Solaris.html">Solaris</a>

    <li><a href="./Source.html">Source</a>

    <li><a href="./StatisticsController.html">StatisticsController</a>

    <li><a href="./StatisticsHelper.html">StatisticsHelper</a>

    <li><a href="./String.html">String</a>

    <li><a href="./SubnetDomain.html">SubnetDomain</a>

    <li><a href="./SubnetsController.html">SubnetsController</a>

    <li><a href="./SubnetsHelper.html">SubnetsHelper</a>

    <li><a href="./Suse.html">Suse</a>

    <li><a href="./Task.html">Task</a>

    <li><a href="./TasksController.html">TasksController</a>

    <li><a href="./TasksHelper.html">TasksHelper</a>

    <li><a href="./TaxableTaxonomy.html">TaxableTaxonomy</a>

    <li><a href="./Taxonomy.html">Taxonomy</a>

    <li><a href="./TaxonomyHelper.html">TaxonomyHelper</a>

    <li><a href="./TemplateCombination.html">TemplateCombination</a>

    <li><a href="./TemplateKind.html">TemplateKind</a>

    <li><a href="./TimedCachedStore.html">TimedCachedStore</a>

    <li><a href="./Token.html">Token</a>

    <li><a href="./TopbarSweeper.html">TopbarSweeper</a>

    <li><a href="./Trend.html">Trend</a>

    <li><a href="./TrendCounter.html">TrendCounter</a>

    <li><a href="./TrendImporter.html">TrendImporter</a>

    <li><a href="./TrendsController.html">TrendsController</a>

    <li><a href="./TrendsHelper.html">TrendsHelper</a>

    <li><a href="./UnattendedController.html">UnattendedController</a>

    <li><a href="./UnattendedHelper.html">UnattendedHelper</a>

    <li><a href="./User.html">User</a>

    <li><a href="./UserFact.html">UserFact</a>

    <li><a href="./UserRole.html">UserRole</a>

    <li><a href="./Usergroup.html">Usergroup</a>

    <li><a href="./UsergroupMember.html">UsergroupMember</a>

    <li><a href="./UsergroupsController.html">UsergroupsController</a>

    <li><a href="./UsergroupsHelper.html">UsergroupsHelper</a>

    <li><a href="./UsersController.html">UsersController</a>

    <li><a href="./UsersHelper.html">UsersHelper</a>

    <li><a href="./VNCProxy.html">VNCProxy</a>

    <li><a href="./Windows.html">Windows</a>

  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class ApplicationController</h1>

  <div id="description" class="description">

  </div><!-- description -->




  <section id="5Buntitled-5D" class="documentation-section">








    <!-- Methods -->

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>


      <div id="method-i-welcome" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">welcome</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="welcome-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">welcome</span>
  <span class="ruby-ivar">@searchbar</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">controller_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;dashboard&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;Host&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">singularize</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">false</span>)
    <span class="ruby-ivar">@searchbar</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">render</span> <span class="ruby-value">:welcome</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span>
  <span class="ruby-identifier">not_found</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- welcome-source -->

        </div>




      </div><!-- welcome-method -->


    </section><!-- public-instance-method-details -->

     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Protected Instance Methods</h3>


      <div id="method-i-ajax-3F" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">ajax?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="ajax-3F-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 252</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ajax?</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">xhr?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ajax-3F-source -->

        </div>




      </div><!-- ajax-3F-method -->


      <div id="method-i-ajax_request" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">ajax_request</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="ajax_request-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ajax_request</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">head</span>(<span class="ruby-value">:method_not_allowed</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ajax?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ajax_request-source -->

        </div>




      </div><!-- ajax_request-method -->


      <div id="method-i-api_request-3F" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">api_request?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="api_request-3F-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">api_request?</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">json?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">yaml?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- api_request-3F-source -->

        </div>




      </div><!-- api_request-3F-method -->


      <div id="method-i-auth_smart_proxy" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">auth_smart_proxy</span><span
            class="method-args">(proxies = SmartProxy.all, require_cert = true)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>Filter requests to only permit from hosts with a registered smart proxy
Uses rDNS of the request to match proxy hostnames</p>



          <div class="method-source-code" id="auth_smart_proxy-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">auth_smart_proxy</span>(<span class="ruby-identifier">proxies</span> = <span class="ruby-constant">SmartProxy</span>.<span class="ruby-identifier">all</span>, <span class="ruby-identifier">require_cert</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">request_hosts</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cn</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-constant">Setting</span>[<span class="ruby-value">:ssl_client_cn_env</span>]]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-constant">Setting</span>[<span class="ruby-value">:ssl_client_verify_env</span>]] <span class="ruby-operator">==</span> <span class="ruby-string">'SUCCESS'</span>
        <span class="ruby-identifier">request_hosts</span> = [<span class="ruby-identifier">cn</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;SSL cert for #{cn} has not been verified&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">require_cert</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span> <span class="ruby-string">&quot;No SSL cert with CN supplied&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">request_hosts</span> = <span class="ruby-constant">Resolv</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">getnames</span>(<span class="ruby-identifier">request</span>.<span class="ruby-identifier">ip</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">SETTINGS</span>[<span class="ruby-value">:require_ssl</span>]
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span> <span class="ruby-string">&quot;SSL is required&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">request_hosts</span> = <span class="ruby-constant">Resolv</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">getnames</span>(<span class="ruby-identifier">request</span>.<span class="ruby-identifier">ip</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">request_hosts</span>
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-node">&quot;Verifying request from #{request_hosts} against #{proxies.map {|p| URI.parse(p.url).host}.inspect}&quot;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxies</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">request_hosts</span>.<span class="ruby-identifier">include?</span> <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">p</span>.<span class="ruby-identifier">url</span>).<span class="ruby-identifier">host</span> }
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;No smart proxy server found on #{request_hosts.inspect}&quot;</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- auth_smart_proxy-source -->

        </div>




      </div><!-- auth_smart_proxy-method -->


      <div id="method-i-authorize" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">authorize</span><span
            class="method-args">(ctrl = params[:controller], action = params[:action])</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>Authorize the user for the requested action</p>



          <div class="method-source-code" id="authorize-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">authorize</span>(<span class="ruby-identifier">ctrl</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:controller</span>], <span class="ruby-identifier">action</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:action</span>])
  <span class="ruby-identifier">allowed</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">allowed_to?</span>({<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ctrl</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r::/</span>, <span class="ruby-string">&quot;_&quot;</span>).<span class="ruby-identifier">underscore</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>})
  <span class="ruby-identifier">allowed</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">deny_access</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- authorize-source -->

        </div>




      </div><!-- authorize-method -->


      <div id="method-i-current_user" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">current_user</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>this method is returns the active user which gets used to populate the
audits table</p>



          <div class="method-source-code" id="current_user-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">current_user</span>
  <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- current_user-source -->

        </div>




      </div><!-- current_user-method -->


      <div id="method-i-deny_access" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">deny_access</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="deny_access-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deny_access</span>
  (<span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">logged?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">xhr?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">render_403</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">require_login</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- deny_access-source -->

        </div>




      </div><!-- deny_access-method -->


      <div id="method-i-error" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">error</span><span
            class="method-args">(error)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="error-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error</span> <span class="ruby-identifier">error</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:error</span>] = <span class="ruby-identifier">error</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- error-source -->

        </div>




      </div><!-- error-method -->


      <div id="method-i-expire_session" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">expire_session</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="expire_session-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expire_session</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Session for #{current_user} is expired.&quot;</span>
  <span class="ruby-identifier">reset_session</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:warning</span>] = <span class="ruby-string">&quot;Your session has expired, please login again&quot;</span>
  <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">login_users_path</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- expire_session-source -->

        </div>




      </div><!-- expire_session-method -->


      <div id="method-i-find_by_name" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">find_by_name</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>searches for an object based on its name and assign it to an instance
variable required for models which implement the to_param method</p>

<p>example: @host = Host.find_by_name <a href="http://:id">params</a></p>



          <div class="method-source-code" id="find_by_name-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 195</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_by_name</span>
  <span class="ruby-identifier">not_found</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> (<span class="ruby-identifier">id</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:id</span>]).<span class="ruby-identifier">blank?</span>

  <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">singularize</span>
  <span class="ruby-comment"># determine if we are searching for a numerical id or plain name</span>
  <span class="ruby-identifier">cond</span> = <span class="ruby-string">&quot;find_by_&quot;</span> <span class="ruby-operator">+</span> ((<span class="ruby-identifier">id</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r^\d+$/</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">id</span>=<span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_i</span>)) <span class="ruby-operator">?</span> <span class="ruby-string">&quot;id&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;name&quot;</span>)
  <span class="ruby-identifier">not_found</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">eval</span>(<span class="ruby-node">&quot;@#{obj} = #{obj.camelize}.#{cond}(id)&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- find_by_name-source -->

        </div>




      </div><!-- find_by_name-method -->


      <div id="method-i-invalid_request" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">invalid_request</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="invalid_request-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 164</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">invalid_request</span>
  <span class="ruby-identifier">render</span> <span class="ruby-value">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Invalid query'</span>, <span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">400</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- invalid_request-source -->

        </div>




      </div><!-- invalid_request-method -->


      <div id="method-i-not_found" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">not_found</span><span
            class="method-args">(exception = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="not_found-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">not_found</span>(<span class="ruby-identifier">exception</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;not found: #{exception}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span> { <span class="ruby-identifier">render</span> <span class="ruby-string">&quot;common/404&quot;</span>, <span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">404</span> }
    <span class="ruby-identifier">format</span>.<span class="ruby-identifier">json</span> { <span class="ruby-identifier">head</span> <span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">404</span>}
    <span class="ruby-identifier">format</span>.<span class="ruby-identifier">yaml</span> { <span class="ruby-identifier">head</span> <span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">404</span>}
    <span class="ruby-identifier">format</span>.<span class="ruby-identifier">yml</span> { <span class="ruby-identifier">head</span> <span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">404</span>}
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- not_found-source -->

        </div>




      </div><!-- not_found-method -->


      <div id="method-i-notice" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">notice</span><span
            class="method-args">(notice)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="notice-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">notice</span> <span class="ruby-identifier">notice</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:notice</span>] = <span class="ruby-identifier">notice</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- notice-source -->

        </div>




      </div><!-- notice-method -->


      <div id="method-i-remote_user_provided-3F" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">remote_user_provided?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="remote_user_provided-3F-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remote_user_provided?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Setting</span>[<span class="ruby-string">&quot;authorize_login_delegation&quot;</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">api_request?</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-constant">Setting</span>[<span class="ruby-string">&quot;authorize_login_delegation_api&quot;</span>]
  (<span class="ruby-ivar">@remote_user</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-string">&quot;REMOTE_USER&quot;</span>]).<span class="ruby-identifier">present?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remote_user_provided-3F-source -->

        </div>




      </div><!-- remote_user_provided-3F-method -->


      <div id="method-i-require_login" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">require_login</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>Force a user to login if authentication is enabled Sets <a
href="Foreman/ThreadSession/UserModel.html#method-c-current">Foreman::ThreadSession::UserModel.current</a>
to the logged in user, or to admin if logins are not used</p>



          <div class="method-source-code" id="require_login-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_login</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">session</span>[<span class="ruby-value">:user</span>] <span class="ruby-keyword">and</span> (<span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">session</span>[<span class="ruby-value">:user</span>]))
    <span class="ruby-comment"># User is not found or first login</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">SETTINGS</span>[<span class="ruby-value">:login</span>]
      <span class="ruby-comment"># authentication is enabled</span>

      <span class="ruby-comment"># If REMOTE_USER is provided by the web server then</span>
      <span class="ruby-comment"># authenticate the user without using password.</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">remote_user_provided?</span>
        <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">find_by_login</span>(<span class="ruby-ivar">@remote_user</span>)
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;Failed REMOTE_USER authentication from #{request.remote_ip}&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">user</span>
      <span class="ruby-comment"># Else, fall back to the standard authentication mechanism,</span>
      <span class="ruby-comment"># only if it's an API request.</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">api_request?</span>
        <span class="ruby-identifier">user</span> = <span class="ruby-identifier">authenticate_or_request_with_http_basic</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">u</span>, <span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">try_to_login</span>(<span class="ruby-identifier">u</span>, <span class="ruby-identifier">p</span>) }
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;Failed Basic Auth authentication request from #{request.remote_ip}&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">user</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">User</span>)
        <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Authorized user #{user.login}(#{user.to_label})&quot;</span>)
        <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span> = <span class="ruby-identifier">user</span>
        <span class="ruby-identifier">session</span>[<span class="ruby-value">:user</span>] = <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">id</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">api_request?</span>
        <span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">api_request?</span>
        <span class="ruby-identifier">session</span>[<span class="ruby-value">:original_uri</span>] = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fullpath</span> <span class="ruby-comment"># keep the old request uri that we can redirect later on</span>
        <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">login_users_path</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># We assume we always have a user logged in, if authentication is disabled, the user is the build-in admin account.</span>
      <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">admin</span>
      <span class="ruby-identifier">session</span>[<span class="ruby-value">:user</span>] = <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">id</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">api_request?</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- require_login-source -->

        </div>




      </div><!-- require_login-method -->


      <div id="method-i-require_mail" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">require_mail</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="require_mail-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_mail</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">mail</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">notice</span> <span class="ruby-string">&quot;Mail is Required&quot;</span>
    <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">edit_user_path</span>(<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- require_mail-source -->

        </div>




      </div><!-- require_mail-method -->


      <div id="method-i-require_puppetmaster_or_login" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">require_puppetmaster_or_login</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>Permits registered puppetmasters or a user with permission</p>



          <div class="method-source-code" id="require_puppetmaster_or_login-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_puppetmaster_or_login</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Setting</span>[<span class="ruby-value">:restrict_registered_puppetmasters</span>]
    <span class="ruby-identifier">proxy</span> = <span class="ruby-identifier">auth_smart_proxy</span> <span class="ruby-constant">SmartProxy</span>.<span class="ruby-identifier">puppet_proxies</span>, <span class="ruby-constant">Setting</span>[<span class="ruby-value">:require_ssl_puppetmasters</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy</span>
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">require_login</span>
      <span class="ruby-keyword">if</span> <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span>
        <span class="ruby-identifier">authorize</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">render_403</span>
        <span class="ruby-keyword">false</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- require_puppetmaster_or_login-source -->

        </div>




      </div><!-- require_puppetmaster_or_login-method -->


      <div id="method-i-require_ssl" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">require_ssl</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="require_ssl-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">require_ssl</span>
  <span class="ruby-comment"># if SSL is not configured, don't bother forcing it.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">SETTINGS</span>[<span class="ruby-value">:require_ssl</span>]
  <span class="ruby-comment"># don't force SSL on localhost</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">host</span><span class="ruby-operator">=~</span><span class="ruby-regexp">%rlocalhost|127.0.0.1/</span>
  <span class="ruby-comment"># finally - redirect</span>
  <span class="ruby-identifier">redirect_to</span> <span class="ruby-value">:protocol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'https'</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">protocol</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'https'</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ssl?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- require_ssl-source -->

        </div>




      </div><!-- require_ssl-method -->


      <div id="method-i-session_expiry" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">session_expiry</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="session_expiry-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">session_expiry</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">session</span>[<span class="ruby-value">:expires_at</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-keyword">or</span> (<span class="ruby-identifier">session</span>[<span class="ruby-value">:expires_at</span>].<span class="ruby-identifier">utc</span> <span class="ruby-operator">-</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">utc</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">expire_session</span>
    <span class="ruby-identifier">session</span>[<span class="ruby-value">:original_uri</span>] = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fullpath</span> <span class="ruby-comment"># keep the old request uri that we can redirect later on</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;failed to determine if user sessions needs to be expired, expiring anyway: #{e}&quot;</span>
  <span class="ruby-identifier">expire_session</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- session_expiry-source -->

        </div>




      </div><!-- session_expiry-method -->


      <div id="method-i-set_admin_user" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">set_admin_user</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>this method sets the Current user to be the Admin its required for actions
which are not authenticated by default such as unattended notifications
coming from an OS, or fact and reports creations</p>



          <div class="method-source-code" id="set_admin_user-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_admin_user</span>
  <span class="ruby-constant">User</span>.<span class="ruby-identifier">current</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">admin</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_admin_user-source -->

        </div>




      </div><!-- set_admin_user-method -->


      <div id="method-i-setup_search_options" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">setup_search_options</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">

          <p>this method is used with nested resources, where obj_id is passed into the
parameters hash. it automatically updates the search text box with the
relevant relationship e.g. /hosts/fqdn/reports # would add host = fqdn to
the search bar</p>



          <div class="method-source-code" id="setup_search_options-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_search_options</span>
  <span class="ruby-identifier">params</span>[<span class="ruby-value">:search</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">param</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r(\w+)_id$/</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">param</span>].<span class="ruby-identifier">blank?</span>
        <span class="ruby-identifier">query</span> = <span class="ruby-node">&quot;#{$1} = #{params[param]}&quot;</span>
        <span class="ruby-identifier">params</span>[<span class="ruby-value">:search</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">query</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:search</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">query</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- setup_search_options-source -->

        </div>




      </div><!-- setup_search_options-method -->


      <div id="method-i-update_activity_time" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">update_activity_time</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="update_activity_time-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_activity_time</span>
  <span class="ruby-identifier">session</span>[<span class="ruby-value">:expires_at</span>] = <span class="ruby-constant">Setting</span>[<span class="ruby-value">:idle_timeout</span>].<span class="ruby-identifier">minutes</span>.<span class="ruby-identifier">from_now</span>.<span class="ruby-identifier">utc</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- update_activity_time-source -->

        </div>




      </div><!-- update_activity_time-method -->


      <div id="method-i-warning" class="method-detail ">

        <div class="method-heading">
          <span class="method-name">warning</span><span
            class="method-args">(warning)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>


        <div class="method-description">





          <div class="method-source-code" id="warning-source">
            <pre><span class="ruby-comment"># File app/controllers/application_controller.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warning</span> <span class="ruby-identifier">warning</span>
  <span class="ruby-identifier">flash</span>[<span class="ruby-value">:warning</span>] = <span class="ruby-identifier">warning</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- warning-source -->

        </div>




      </div><!-- warning-method -->


    </section><!-- protected-instance-method-details -->

  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>
